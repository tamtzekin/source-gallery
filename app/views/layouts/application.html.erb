<!DOCTYPE html>
<html>
    <head>
        <title>Source</title>
        <meta name="viewport" content="width=device-width,initial-scale=1">
        <%= csrf_meta_tags %>
        <%= csp_meta_tag %>

        <%= stylesheet_link_tag 'application', media: 'all', 'data-turbolinks-track': 'reload' %>
        <%= javascript_pack_tag 'application', 'data-turbolinks-track': 'reload' %>
    </head>

    <body>
        <% if flash[:new_user_success].present? %>
            <p>
                <div class="flash-message">
                    <%= flash[:new_user_success] %>
                </div>
            </p>
        <% end %>

        <% if flash[:success].present? %>
            <p>
                <div class="flash_message">
                    <%= flash[:success] %>
                </div>
            </p>
        <% end %>


    <header>
        <h1>Source</h1>
            <nav>
                <% if is_logged_in? %>
                    Hello, <%= @current_user.name %>
                    <%# method: :delete comes from rails routes %>
                    <%= link_to "Log out", session_path, method: :delete %>
                <% else %>
                    <%= link_to "Sign up", new_user_path %>
                    <%= link_to "Log in", new_session_path %>
                <% end %>
            </nav>
    </header>

        <%= yield %>
    </body>
</html>
